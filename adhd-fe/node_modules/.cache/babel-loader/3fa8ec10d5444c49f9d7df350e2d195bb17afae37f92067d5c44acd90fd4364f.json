{"ast":null,"code":"var objectAssign = require('object-assign');\nfunction arrayRemove(arr, item) {\n  var idx = arr.indexOf(item);\n  if (~idx) arr.splice(idx, 1);\n}\nfunction FileAppender(strategy, req) {\n  this.strategy = strategy;\n  this.req = req;\n  switch (strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      req.files = [];\n      break;\n    case 'OBJECT':\n      req.files = Object.create(null);\n      break;\n    default:\n      throw new Error('Unknown file strategy: ' + strategy);\n  }\n}\nFileAppender.prototype.insertPlaceholder = function (file) {\n  var placeholder = {\n    fieldname: file.fieldname\n  };\n  switch (this.strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      this.req.files.push(placeholder);\n      break;\n    case 'OBJECT':\n      if (this.req.files[file.fieldname]) {\n        this.req.files[file.fieldname].push(placeholder);\n      } else {\n        this.req.files[file.fieldname] = [placeholder];\n      }\n      break;\n  }\n  return placeholder;\n};\nFileAppender.prototype.removePlaceholder = function (placeholder) {\n  switch (this.strategy) {\n    case 'NONE':\n      break;\n    case 'VALUE':\n      break;\n    case 'ARRAY':\n      arrayRemove(this.req.files, placeholder);\n      break;\n    case 'OBJECT':\n      if (this.req.files[placeholder.fieldname].length === 1) {\n        delete this.req.files[placeholder.fieldname];\n      } else {\n        arrayRemove(this.req.files[placeholder.fieldname], placeholder);\n      }\n      break;\n  }\n};\nFileAppender.prototype.replacePlaceholder = function (placeholder, file) {\n  if (this.strategy === 'VALUE') {\n    this.req.file = file;\n    return;\n  }\n  delete placeholder.fieldname;\n  objectAssign(placeholder, file);\n};\nmodule.exports = FileAppender;","map":{"version":3,"names":["objectAssign","require","arrayRemove","arr","item","idx","indexOf","splice","FileAppender","strategy","req","files","Object","create","Error","prototype","insertPlaceholder","file","placeholder","fieldname","push","removePlaceholder","length","replacePlaceholder","module","exports"],"sources":["/Users/rishabhshah/Desktop/GenAIGit/DukeGenAI2023/adhd-fe/node_modules/multer/lib/file-appender.js"],"sourcesContent":["var objectAssign = require('object-assign')\n\nfunction arrayRemove (arr, item) {\n  var idx = arr.indexOf(item)\n  if (~idx) arr.splice(idx, 1)\n}\n\nfunction FileAppender (strategy, req) {\n  this.strategy = strategy\n  this.req = req\n\n  switch (strategy) {\n    case 'NONE': break\n    case 'VALUE': break\n    case 'ARRAY': req.files = []; break\n    case 'OBJECT': req.files = Object.create(null); break\n    default: throw new Error('Unknown file strategy: ' + strategy)\n  }\n}\n\nFileAppender.prototype.insertPlaceholder = function (file) {\n  var placeholder = {\n    fieldname: file.fieldname\n  }\n\n  switch (this.strategy) {\n    case 'NONE': break\n    case 'VALUE': break\n    case 'ARRAY': this.req.files.push(placeholder); break\n    case 'OBJECT':\n      if (this.req.files[file.fieldname]) {\n        this.req.files[file.fieldname].push(placeholder)\n      } else {\n        this.req.files[file.fieldname] = [placeholder]\n      }\n      break\n  }\n\n  return placeholder\n}\n\nFileAppender.prototype.removePlaceholder = function (placeholder) {\n  switch (this.strategy) {\n    case 'NONE': break\n    case 'VALUE': break\n    case 'ARRAY': arrayRemove(this.req.files, placeholder); break\n    case 'OBJECT':\n      if (this.req.files[placeholder.fieldname].length === 1) {\n        delete this.req.files[placeholder.fieldname]\n      } else {\n        arrayRemove(this.req.files[placeholder.fieldname], placeholder)\n      }\n      break\n  }\n}\n\nFileAppender.prototype.replacePlaceholder = function (placeholder, file) {\n  if (this.strategy === 'VALUE') {\n    this.req.file = file\n    return\n  }\n\n  delete placeholder.fieldname\n  objectAssign(placeholder, file)\n}\n\nmodule.exports = FileAppender\n"],"mappings":"AAAA,IAAIA,YAAY,GAAGC,OAAO,CAAC,eAAe,CAAC;AAE3C,SAASC,WAAWA,CAAEC,GAAG,EAAEC,IAAI,EAAE;EAC/B,IAAIC,GAAG,GAAGF,GAAG,CAACG,OAAO,CAACF,IAAI,CAAC;EAC3B,IAAI,CAACC,GAAG,EAAEF,GAAG,CAACI,MAAM,CAACF,GAAG,EAAE,CAAC,CAAC;AAC9B;AAEA,SAASG,YAAYA,CAAEC,QAAQ,EAAEC,GAAG,EAAE;EACpC,IAAI,CAACD,QAAQ,GAAGA,QAAQ;EACxB,IAAI,CAACC,GAAG,GAAGA,GAAG;EAEd,QAAQD,QAAQ;IACd,KAAK,MAAM;MAAE;IACb,KAAK,OAAO;MAAE;IACd,KAAK,OAAO;MAAEC,GAAG,CAACC,KAAK,GAAG,EAAE;MAAE;IAC9B,KAAK,QAAQ;MAAED,GAAG,CAACC,KAAK,GAAGC,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC;MAAE;IAChD;MAAS,MAAM,IAAIC,KAAK,CAAC,yBAAyB,GAAGL,QAAQ,CAAC;EAChE;AACF;AAEAD,YAAY,CAACO,SAAS,CAACC,iBAAiB,GAAG,UAAUC,IAAI,EAAE;EACzD,IAAIC,WAAW,GAAG;IAChBC,SAAS,EAAEF,IAAI,CAACE;EAClB,CAAC;EAED,QAAQ,IAAI,CAACV,QAAQ;IACnB,KAAK,MAAM;MAAE;IACb,KAAK,OAAO;MAAE;IACd,KAAK,OAAO;MAAE,IAAI,CAACC,GAAG,CAACC,KAAK,CAACS,IAAI,CAACF,WAAW,CAAC;MAAE;IAChD,KAAK,QAAQ;MACX,IAAI,IAAI,CAACR,GAAG,CAACC,KAAK,CAACM,IAAI,CAACE,SAAS,CAAC,EAAE;QAClC,IAAI,CAACT,GAAG,CAACC,KAAK,CAACM,IAAI,CAACE,SAAS,CAAC,CAACC,IAAI,CAACF,WAAW,CAAC;MAClD,CAAC,MAAM;QACL,IAAI,CAACR,GAAG,CAACC,KAAK,CAACM,IAAI,CAACE,SAAS,CAAC,GAAG,CAACD,WAAW,CAAC;MAChD;MACA;EACJ;EAEA,OAAOA,WAAW;AACpB,CAAC;AAEDV,YAAY,CAACO,SAAS,CAACM,iBAAiB,GAAG,UAAUH,WAAW,EAAE;EAChE,QAAQ,IAAI,CAACT,QAAQ;IACnB,KAAK,MAAM;MAAE;IACb,KAAK,OAAO;MAAE;IACd,KAAK,OAAO;MAAEP,WAAW,CAAC,IAAI,CAACQ,GAAG,CAACC,KAAK,EAAEO,WAAW,CAAC;MAAE;IACxD,KAAK,QAAQ;MACX,IAAI,IAAI,CAACR,GAAG,CAACC,KAAK,CAACO,WAAW,CAACC,SAAS,CAAC,CAACG,MAAM,KAAK,CAAC,EAAE;QACtD,OAAO,IAAI,CAACZ,GAAG,CAACC,KAAK,CAACO,WAAW,CAACC,SAAS,CAAC;MAC9C,CAAC,MAAM;QACLjB,WAAW,CAAC,IAAI,CAACQ,GAAG,CAACC,KAAK,CAACO,WAAW,CAACC,SAAS,CAAC,EAAED,WAAW,CAAC;MACjE;MACA;EACJ;AACF,CAAC;AAEDV,YAAY,CAACO,SAAS,CAACQ,kBAAkB,GAAG,UAAUL,WAAW,EAAED,IAAI,EAAE;EACvE,IAAI,IAAI,CAACR,QAAQ,KAAK,OAAO,EAAE;IAC7B,IAAI,CAACC,GAAG,CAACO,IAAI,GAAGA,IAAI;IACpB;EACF;EAEA,OAAOC,WAAW,CAACC,SAAS;EAC5BnB,YAAY,CAACkB,WAAW,EAAED,IAAI,CAAC;AACjC,CAAC;AAEDO,MAAM,CAACC,OAAO,GAAGjB,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}