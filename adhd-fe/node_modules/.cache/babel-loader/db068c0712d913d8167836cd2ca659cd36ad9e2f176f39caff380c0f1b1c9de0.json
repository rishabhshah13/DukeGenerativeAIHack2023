{"ast":null,"code":"var makeMiddleware = require('./lib/make-middleware');\nvar diskStorage = require('./storage/disk');\nvar memoryStorage = require('./storage/memory');\nvar MulterError = require('./lib/multer-error');\nfunction allowAll(req, file, cb) {\n  cb(null, true);\n}\nfunction Multer(options) {\n  if (options.storage) {\n    this.storage = options.storage;\n  } else if (options.dest) {\n    this.storage = diskStorage({\n      destination: options.dest\n    });\n  } else {\n    this.storage = memoryStorage();\n  }\n  this.limits = options.limits;\n  this.preservePath = options.preservePath;\n  this.fileFilter = options.fileFilter || allowAll;\n}\nMulter.prototype._makeMiddleware = function (fields, fileStrategy) {\n  function setup() {\n    var fileFilter = this.fileFilter;\n    var filesLeft = Object.create(null);\n    fields.forEach(function (field) {\n      if (typeof field.maxCount === 'number') {\n        filesLeft[field.name] = field.maxCount;\n      } else {\n        filesLeft[field.name] = Infinity;\n      }\n    });\n    function wrappedFileFilter(req, file, cb) {\n      if ((filesLeft[file.fieldname] || 0) <= 0) {\n        return cb(new MulterError('LIMIT_UNEXPECTED_FILE', file.fieldname));\n      }\n      filesLeft[file.fieldname] -= 1;\n      fileFilter(req, file, cb);\n    }\n    return {\n      limits: this.limits,\n      preservePath: this.preservePath,\n      storage: this.storage,\n      fileFilter: wrappedFileFilter,\n      fileStrategy: fileStrategy\n    };\n  }\n  return makeMiddleware(setup.bind(this));\n};\nMulter.prototype.single = function (name) {\n  return this._makeMiddleware([{\n    name: name,\n    maxCount: 1\n  }], 'VALUE');\n};\nMulter.prototype.array = function (name, maxCount) {\n  return this._makeMiddleware([{\n    name: name,\n    maxCount: maxCount\n  }], 'ARRAY');\n};\nMulter.prototype.fields = function (fields) {\n  return this._makeMiddleware(fields, 'OBJECT');\n};\nMulter.prototype.none = function () {\n  return this._makeMiddleware([], 'NONE');\n};\nMulter.prototype.any = function () {\n  function setup() {\n    return {\n      limits: this.limits,\n      preservePath: this.preservePath,\n      storage: this.storage,\n      fileFilter: this.fileFilter,\n      fileStrategy: 'ARRAY'\n    };\n  }\n  return makeMiddleware(setup.bind(this));\n};\nfunction multer(options) {\n  if (options === undefined) {\n    return new Multer({});\n  }\n  if (typeof options === 'object' && options !== null) {\n    return new Multer(options);\n  }\n  throw new TypeError('Expected object for argument options');\n}\nmodule.exports = multer;\nmodule.exports.diskStorage = diskStorage;\nmodule.exports.memoryStorage = memoryStorage;\nmodule.exports.MulterError = MulterError;","map":{"version":3,"names":["makeMiddleware","require","diskStorage","memoryStorage","MulterError","allowAll","req","file","cb","Multer","options","storage","dest","destination","limits","preservePath","fileFilter","prototype","_makeMiddleware","fields","fileStrategy","setup","filesLeft","Object","create","forEach","field","maxCount","name","Infinity","wrappedFileFilter","fieldname","bind","single","array","none","any","multer","undefined","TypeError","module","exports"],"sources":["/Users/rishabhshah/Desktop/GenAIGit/DukeGenAI2023/adhd-fe/node_modules/multer/index.js"],"sourcesContent":["var makeMiddleware = require('./lib/make-middleware')\n\nvar diskStorage = require('./storage/disk')\nvar memoryStorage = require('./storage/memory')\nvar MulterError = require('./lib/multer-error')\n\nfunction allowAll (req, file, cb) {\n  cb(null, true)\n}\n\nfunction Multer (options) {\n  if (options.storage) {\n    this.storage = options.storage\n  } else if (options.dest) {\n    this.storage = diskStorage({ destination: options.dest })\n  } else {\n    this.storage = memoryStorage()\n  }\n\n  this.limits = options.limits\n  this.preservePath = options.preservePath\n  this.fileFilter = options.fileFilter || allowAll\n}\n\nMulter.prototype._makeMiddleware = function (fields, fileStrategy) {\n  function setup () {\n    var fileFilter = this.fileFilter\n    var filesLeft = Object.create(null)\n\n    fields.forEach(function (field) {\n      if (typeof field.maxCount === 'number') {\n        filesLeft[field.name] = field.maxCount\n      } else {\n        filesLeft[field.name] = Infinity\n      }\n    })\n\n    function wrappedFileFilter (req, file, cb) {\n      if ((filesLeft[file.fieldname] || 0) <= 0) {\n        return cb(new MulterError('LIMIT_UNEXPECTED_FILE', file.fieldname))\n      }\n\n      filesLeft[file.fieldname] -= 1\n      fileFilter(req, file, cb)\n    }\n\n    return {\n      limits: this.limits,\n      preservePath: this.preservePath,\n      storage: this.storage,\n      fileFilter: wrappedFileFilter,\n      fileStrategy: fileStrategy\n    }\n  }\n\n  return makeMiddleware(setup.bind(this))\n}\n\nMulter.prototype.single = function (name) {\n  return this._makeMiddleware([{ name: name, maxCount: 1 }], 'VALUE')\n}\n\nMulter.prototype.array = function (name, maxCount) {\n  return this._makeMiddleware([{ name: name, maxCount: maxCount }], 'ARRAY')\n}\n\nMulter.prototype.fields = function (fields) {\n  return this._makeMiddleware(fields, 'OBJECT')\n}\n\nMulter.prototype.none = function () {\n  return this._makeMiddleware([], 'NONE')\n}\n\nMulter.prototype.any = function () {\n  function setup () {\n    return {\n      limits: this.limits,\n      preservePath: this.preservePath,\n      storage: this.storage,\n      fileFilter: this.fileFilter,\n      fileStrategy: 'ARRAY'\n    }\n  }\n\n  return makeMiddleware(setup.bind(this))\n}\n\nfunction multer (options) {\n  if (options === undefined) {\n    return new Multer({})\n  }\n\n  if (typeof options === 'object' && options !== null) {\n    return new Multer(options)\n  }\n\n  throw new TypeError('Expected object for argument options')\n}\n\nmodule.exports = multer\nmodule.exports.diskStorage = diskStorage\nmodule.exports.memoryStorage = memoryStorage\nmodule.exports.MulterError = MulterError\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}